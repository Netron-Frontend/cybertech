Index: Dockerfile.backend
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Базовый образ с Node.js\r\nFROM node:22-alpine\r\n\r\n# Устанавливаем yarn, git и зависимости для Prisma\r\nRUN apk add --no-cache git openssl libc6-compat\r\n\r\n# Создаем симлинк только если он не существует\r\nRUN [ ! -f /lib/ld-linux-x86-64.so.2 ] && ln -s /lib/libc.musl-x86_64.so.1 /lib/ld-linux-x86-64.so.2 || true\r\n\r\n# Рабочая директория\r\nWORKDIR /app\r\n\r\n# Клонируем репозиторий (ARG будут переданы из docker-compose)\r\nARG GIT_BRANCH=backend\r\nARG GIT_REPO\r\nRUN git clone -b ${GIT_BRANCH} ${GIT_REPO} . && \\\r\n    rm -rf .git\r\n\r\n# Устанавливаем зависимости через yarn\r\nRUN yarn install\r\n\r\n# Генерируем Prisma Client (из клонированного репозитория)\r\nRUN yarn prisma generate\r\n\r\n# Копируем всё (если нужно добавить локальные файлы)\r\nCOPY . .\r\n\r\n# Собираем приложение\r\nRUN yarn build\r\n\r\n# Открываем порт\r\nEXPOSE 3001\r\n\r\n# Команда для разработки с миграциями\r\nCMD sh -c \"yarn prisma migrate deploy && yarn start:dev\"
===================================================================
diff --git a/Dockerfile.backend b/Dockerfile.backend
--- a/Dockerfile.backend	(revision 49f0e946b22c737d561e1e0c94c54de7de446558)
+++ b/Dockerfile.backend	(date 1757933151667)
@@ -17,7 +17,7 @@
     rm -rf .git
 
 # Устанавливаем зависимости через yarn
-RUN yarn install
+RUN yarn
 
 # Генерируем Prisma Client (из клонированного репозитория)
 RUN yarn prisma generate
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"cd689336-6108-41f2-986b-5f9cd87b4b20\" name=\"Changes\" comment=\"\" />\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"CSS File\" />\r\n        <option value=\"TypeScript JSX File\" />\r\n        <option value=\"TypeScript File\" />\r\n        <option value=\"Dockerfile\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"backend\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {}\r\n}</component>\r\n  <component name=\"GitHubPullRequestState\">{\r\n  &quot;prStates&quot;: [\r\n    {\r\n      &quot;id&quot;: {\r\n        &quot;id&quot;: &quot;PR_kwDOPhLU_86k3_aN&quot;,\r\n        &quot;number&quot;: 2\r\n      },\r\n      &quot;lastSeen&quot;: 1755864829264\r\n    }\r\n  ]\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/Netron-Frontend/cybertech.git&quot;,\r\n    &quot;accountId&quot;: &quot;98140f83-e9f6-492f-8278-b1f23b949d62&quot;\r\n  },\r\n  &quot;recentNewPullRequestHead&quot;: {\r\n    &quot;server&quot;: {\r\n      &quot;useHttp&quot;: false,\r\n      &quot;host&quot;: &quot;github.com&quot;,\r\n      &quot;port&quot;: null,\r\n      &quot;suffix&quot;: null\r\n    },\r\n    &quot;owner&quot;: &quot;Netron-Frontend&quot;,\r\n    &quot;repository&quot;: &quot;cybertech&quot;\r\n  }\r\n}</component>\r\n  <component name=\"HighlightingSettingsPerFile\">\r\n    <setting file=\"file://$PROJECT_DIR$/src/app/not-found.tsx\" root0=\"FORCE_HIGHLIGHTING\" />\r\n  </component>\r\n  <component name=\"ProblemsViewState\">\r\n    <option name=\"selectedTabId\" value=\"CurrentFile\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 8\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"31YKslRgKAlfwg6qidQbl9QDI7W\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"1\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n    <option name=\"showScratchesAndConsoles\" value=\"false\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;Docker.docker-setup.backend: Compose Deployment.executor&quot;: &quot;Run&quot;,\r\n    &quot;Docker.docker-setup.frontend: Compose Deployment.executor&quot;: &quot;Run&quot;,\r\n    &quot;Docker.docker-setup.postgres: Compose Deployment.executor&quot;: &quot;Run&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;main&quot;,\r\n    &quot;ignore_missing_gitignore&quot;: &quot;true&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;D:/My own/Уроки frontend/GitHub profile&quot;,\r\n    &quot;list.type.of.created.stylesheet&quot;: &quot;CSS&quot;,\r\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.detected.package.standard&quot;: &quot;true&quot;,\r\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;node.js.selected.package.standard&quot;: &quot;&quot;,\r\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\r\n    &quot;prettierjs.PrettierConfiguration.Package&quot;: &quot;D:\\\\My own\\\\Уроки frontend\\\\NextJS\\\\cybertech\\\\node_modules\\\\prettier&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.pluginManager&quot;,\r\n    &quot;ts.external.directory.path&quot;: &quot;C:\\\\Program Files\\\\JetBrains\\\\WebStorm 2024.3.4\\\\plugins\\\\javascript-plugin\\\\jsLanguageServicesImpl\\\\external&quot;,\r\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\r\n  },\r\n  &quot;keyToStringList&quot;: {\r\n    &quot;DatabaseDriversLRU&quot;: [\r\n      &quot;postgresql&quot;\r\n    ]\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\My own\\Уроки frontend\\NextJS\\cybertech\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\My own\\Уроки frontend\\NextJS\\cybertech\\docker-setup\" />\r\n      <recent name=\"D:\\My own\\Уроки frontend\\NextJS\\cybertech\" />\r\n      <recent name=\"D:\\My own\\Уроки frontend\\NextJS\\cybertech\\src\\components\\ui\\buttons\\FormNotFoundBtn\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"Docker.docker-setup.frontend: Compose Deployment\">\r\n    <configuration default=\"true\" type=\"docker-deploy\" factoryName=\"docker-compose.yml\" temporary=\"true\">\r\n      <deployment type=\"docker-compose.yml\">\r\n        <settings />\r\n      </deployment>\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"docker-setup.backend: Compose Deployment\" type=\"docker-deploy\" factoryName=\"docker-compose.yml\" temporary=\"true\" server-name=\"Docker\">\r\n      <deployment type=\"docker-compose.yml\">\r\n        <settings>\r\n          <option name=\"services\">\r\n            <list>\r\n              <option value=\"backend\" />\r\n            </list>\r\n          </option>\r\n          <option name=\"sourceFilePath\" value=\"docker-setup/docker-compose.yml\" />\r\n        </settings>\r\n      </deployment>\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"docker-setup.frontend: Compose Deployment\" type=\"docker-deploy\" factoryName=\"docker-compose.yml\" temporary=\"true\" server-name=\"Docker\">\r\n      <deployment type=\"docker-compose.yml\">\r\n        <settings>\r\n          <option name=\"services\">\r\n            <list>\r\n              <option value=\"frontend\" />\r\n            </list>\r\n          </option>\r\n          <option name=\"sourceFilePath\" value=\"docker-setup/docker-compose.yml\" />\r\n        </settings>\r\n      </deployment>\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"docker-setup.postgres: Compose Deployment\" type=\"docker-deploy\" factoryName=\"docker-compose.yml\" temporary=\"true\" server-name=\"Docker\">\r\n      <deployment type=\"docker-compose.yml\">\r\n        <settings>\r\n          <option name=\"envFilePath\" value=\"\" />\r\n          <option name=\"services\">\r\n            <list>\r\n              <option value=\"postgres\" />\r\n            </list>\r\n          </option>\r\n          <option name=\"sourceFilePath\" value=\"docker-setup/docker-compose.yml\" />\r\n        </settings>\r\n      </deployment>\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Docker.docker-setup.postgres: Compose Deployment\" />\r\n        <item itemvalue=\"Docker.docker-setup.frontend: Compose Deployment\" />\r\n        <item itemvalue=\"Docker.docker-setup.backend: Compose Deployment\" />\r\n        <item itemvalue=\"Docker.docker-setup.frontend: Compose Deployment\" />\r\n        <item itemvalue=\"Docker.docker-setup.backend: Compose Deployment\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-js-predefined-d6986cc7102b-1632447f56bf-JavaScript-WS-243.25659.40\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"cd689336-6108-41f2-986b-5f9cd87b4b20\" name=\"Changes\" comment=\"\" />\r\n      <created>1755695774745</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1755695774745</updated>\r\n      <workItem from=\"1755695775858\" duration=\"4325000\" />\r\n      <workItem from=\"1755802148449\" duration=\"2817000\" />\r\n      <workItem from=\"1755861144193\" duration=\"17384000\" />\r\n      <workItem from=\"1756724124902\" duration=\"3334000\" />\r\n      <workItem from=\"1756794981292\" duration=\"3458000\" />\r\n      <workItem from=\"1756798472983\" duration=\"6846000\" />\r\n      <workItem from=\"1756819126531\" duration=\"600000\" />\r\n      <workItem from=\"1756875897315\" duration=\"2021000\" />\r\n      <workItem from=\"1756877949058\" duration=\"2638000\" />\r\n      <workItem from=\"1756962319501\" duration=\"328000\" />\r\n      <workItem from=\"1756962659131\" duration=\"3298000\" />\r\n      <workItem from=\"1756969051585\" duration=\"5707000\" />\r\n      <workItem from=\"1756975050677\" duration=\"3315000\" />\r\n      <workItem from=\"1756981026022\" duration=\"900000\" />\r\n      <workItem from=\"1757328275800\" duration=\"2351000\" />\r\n      <workItem from=\"1757394477628\" duration=\"2306000\" />\r\n      <workItem from=\"1757398509469\" duration=\"5790000\" />\r\n      <workItem from=\"1757411676837\" duration=\"32000\" />\r\n      <workItem from=\"1757480957996\" duration=\"1051000\" />\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n</project>
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 49f0e946b22c737d561e1e0c94c54de7de446558)
+++ b/.idea/workspace.xml	(date 1757932995851)
@@ -4,7 +4,9 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="cd689336-6108-41f2-986b-5f9cd87b4b20" name="Changes" comment="" />
+    <list default="true" id="cd689336-6108-41f2-986b-5f9cd87b4b20" name="Changes" comment="">
+      <change beforePath="$PROJECT_DIR$/Dockerfile.backend" beforeDir="false" afterPath="$PROJECT_DIR$/Dockerfile.backend" afterDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -167,8 +169,8 @@
         <item itemvalue="Docker.docker-setup.postgres: Compose Deployment" />
         <item itemvalue="Docker.docker-setup.frontend: Compose Deployment" />
         <item itemvalue="Docker.docker-setup.backend: Compose Deployment" />
+        <item itemvalue="Docker.docker-setup.postgres: Compose Deployment" />
         <item itemvalue="Docker.docker-setup.frontend: Compose Deployment" />
-        <item itemvalue="Docker.docker-setup.backend: Compose Deployment" />
       </list>
     </recent_temporary>
   </component>
